(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{2235:function(e,t,r){Promise.resolve().then(r.bind(r,7230))},7230:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(7437),s=r(2265),a=r(6013),i=r(4693),c=r(1432),l=r(933),o=r(2940),d=r(500);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,r(3480).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var h=r(1240),g=r(7422),p=r(6264),m=r(7440);function v(){let[e,t]=(0,s.useState)([]),[r,v]=(0,s.useState)([]),[y,x]=(0,s.useState)(null),[f,j]=(0,s.useState)(!0);(0,s.useEffect)(()=>{N()},[]);let N=async()=>{j(!0);try{var e,r;let n=await p.Z.getLedgerStats();n.success&&n.data&&x(n.data);let s=await p.Z.listEvents(1,10);s.success&&s.data&&v(s.data.items),t([{title:"Total Events",value:(null===(e=n.data)||void 0===e?void 0:e.total_events)||0,icon:c.Z,change:"+12%",changeType:"positive"},{title:"Unanchored Events",value:(null===(r=n.data)||void 0===r?void 0:r.unanchored_events)||0,icon:l.Z,changeType:"neutral"},{title:"Pending Approvals",value:0,icon:o.Z,changeType:"neutral"},{title:"Active Policies",value:0,icon:d.Z,changeType:"neutral"}])}catch(e){console.error("Failed to load dashboard data:",e)}finally{j(!1)}};return f?(0,n.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,n.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-gray-300 border-t-indigo-600"})}):(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,n.jsx)("p",{className:"mt-1 text-gray-500",children:"Overview of your GuardRail compliance platform"})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:e.map(e=>(0,n.jsx)(a.Zb,{children:(0,n.jsx)(a.aY,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-500",children:e.title}),(0,n.jsx)("p",{className:"mt-1 text-3xl font-semibold text-gray-900",children:e.value.toLocaleString()}),e.change&&(0,n.jsxs)("p",{className:"mt-1 text-sm ".concat("positive"===e.changeType?"text-green-600":"negative"===e.changeType?"text-red-600":"text-gray-500"),children:[e.change," from last week"]})]}),(0,n.jsx)("div",{className:"rounded-lg bg-indigo-100 p-3",children:(0,n.jsx)(e.icon,{className:"h-6 w-6 text-indigo-600"})})]})})},e.title))}),(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsxs)(a.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(c.Z,{className:"h-5 w-5"}),"Recent Events"]})}),(0,n.jsx)(a.aY,{children:(0,n.jsx)("div",{className:"space-y-4",children:0===r.length?(0,n.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No events recorded yet"}):r.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-4 last:border-0 last:pb-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-100",children:(0,n.jsx)(c.Z,{className:"h-4 w-4 text-gray-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.event_type.split("_").join(" ")}),(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:["Seq #",e.sequence_number]})]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("p",{className:"text-xs text-gray-500",children:(0,m.BK)(e.created_at)}),e.anchor_batch_id?(0,n.jsx)(i.C,{variant:"success",className:"mt-1",children:"Anchored"}):(0,n.jsx)(i.C,{variant:"outline",className:"mt-1",children:"Pending"})]})]},e.id))})})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsxs)(a.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(u,{className:"h-5 w-5"}),"Event Distribution"]})}),(0,n.jsx)(a.aY,{children:(0,n.jsx)("div",{className:"space-y-4",children:(null==y?void 0:y.events_by_type.length)===0?(0,n.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No event data available"}):null==y?void 0:y.events_by_type.slice(0,6).map(e=>{let t=y.total_events>0?e.count/y.total_events*100:0;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,n.jsx)("span",{className:"text-gray-600",children:e.event_type.split("_").join(" ")}),(0,n.jsx)("span",{className:"font-medium text-gray-900",children:e.count.toLocaleString()})]}),(0,n.jsx)("div",{className:"mt-1 h-2 w-full overflow-hidden rounded-full bg-gray-100",children:(0,n.jsx)("div",{className:"h-full rounded-full bg-indigo-600 transition-all",style:{width:"".concat(t,"%")}})})]},e.event_type)})})})]})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{children:"Quick Actions"})}),(0,n.jsx)(a.aY,{children:(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,n.jsxs)("button",{className:"flex items-center gap-3 rounded-lg border border-gray-200 p-4 text-left transition-colors hover:bg-gray-50",children:[(0,n.jsx)("div",{className:"rounded-lg bg-blue-100 p-2",children:(0,n.jsx)(h.Z,{className:"h-5 w-5 text-blue-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-900",children:"Add Identity"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Create user or agent"})]})]}),(0,n.jsxs)("button",{className:"flex items-center gap-3 rounded-lg border border-gray-200 p-4 text-left transition-colors hover:bg-gray-50",children:[(0,n.jsx)("div",{className:"rounded-lg bg-green-100 p-2",children:(0,n.jsx)(d.Z,{className:"h-5 w-5 text-green-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-900",children:"Create Policy"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Define new rules"})]})]}),(0,n.jsxs)("button",{className:"flex items-center gap-3 rounded-lg border border-gray-200 p-4 text-left transition-colors hover:bg-gray-50",children:[(0,n.jsx)("div",{className:"rounded-lg bg-yellow-100 p-2",children:(0,n.jsx)(o.Z,{className:"h-5 w-5 text-yellow-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-900",children:"Review Approvals"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Pending actions"})]})]}),(0,n.jsxs)("button",{className:"flex items-center gap-3 rounded-lg border border-gray-200 p-4 text-left transition-colors hover:bg-gray-50",children:[(0,n.jsx)("div",{className:"rounded-lg bg-purple-100 p-2",children:(0,n.jsx)(g.Z,{className:"h-5 w-5 text-purple-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-gray-900",children:"Trigger Anchor"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Commit to chain"})]})]})]})})]})]})}},4693:function(e,t,r){"use strict";r.d(t,{C:function(){return c}});var n=r(7437);r(2265);var s=r(3027),a=r(7440);let i=(0,s.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800",warning:"border-transparent bg-yellow-100 text-yellow-800",error:"border-transparent bg-red-100 text-red-800"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,...s}=e;return(0,n.jsx)("div",{className:(0,a.cn)(i({variant:r}),t),...s})}},6013:function(e,t,r){"use strict";r.d(t,{Ol:function(){return c},SZ:function(){return o},Zb:function(){return i},aY:function(){return d},ll:function(){return l}});var n=r(7437),s=r(2265),a=r(7440);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});i.displayName="Card";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});c.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},6264:function(e,t,r){"use strict";let n=r(357).env.NEXT_PUBLIC_API_URL||"http://localhost:3000";class s{setToken(e){this.token=e,e?localStorage.setItem("guardrail_token",e):localStorage.removeItem("guardrail_token")}getToken(){return this.token||(this.token=localStorage.getItem("guardrail_token")),this.token}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(n).concat(e),s=this.getToken(),a={"Content-Type":"application/json",...t.headers};s&&(a.Authorization="Bearer ".concat(s));try{let e=await fetch(r,{...t,headers:a}),n=await e.json();if(!e.ok)return{success:!1,error:n.error||{code:"UNKNOWN",message:"Request failed"}};return n}catch(e){return{success:!1,error:{code:"NETWORK_ERROR",message:e instanceof Error?e.message:"Network error"}}}}async login(e,t){let r=await this.request("/api/v1/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return r.success&&r.data&&this.setToken(r.data.token),r}logout(){this.setToken(null)}async listIdentities(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=arguments.length>2?arguments[2]:void 0,n=new URLSearchParams({page:e.toString(),per_page:t.toString()});return r&&n.set("search",r),this.request("/api/v1/identities?".concat(n))}async getIdentity(e){return this.request("/api/v1/identities/".concat(e))}async createIdentity(e){return this.request("/api/v1/identities",{method:"POST",body:JSON.stringify(e)})}async updateIdentity(e,t){return this.request("/api/v1/identities/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteIdentity(e){return this.request("/api/v1/identities/".concat(e),{method:"DELETE"})}async listPolicies(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=new URLSearchParams({page:e.toString(),per_page:t.toString(),active_only:r.toString()});return this.request("/api/v1/policies?".concat(n))}async getPolicy(e){return this.request("/api/v1/policies/".concat(e))}async createPolicy(e){return this.request("/api/v1/policies",{method:"POST",body:JSON.stringify(e)})}async activatePolicy(e){return this.request("/api/v1/policies/".concat(e,"/activate"),{method:"POST"})}async deactivatePolicy(e){return this.request("/api/v1/policies/".concat(e,"/deactivate"),{method:"POST"})}async simulatePolicy(e,t){return this.request("/api/v1/policies/".concat(e,"/simulate"),{method:"POST",body:JSON.stringify(t)})}async checkAction(e){return this.request("/api/v1/check",{method:"POST",body:JSON.stringify(e)})}async listEvents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2?arguments[2]:void 0,n=new URLSearchParams({page:e.toString(),per_page:t.toString()});return r&&Object.entries(r).forEach(e=>{let[t,r]=e;void 0!==r&&n.set(t,r.toString())}),this.request("/api/v1/events?".concat(n))}async getEvent(e){return this.request("/api/v1/events/".concat(e))}async getEventProof(e){return this.request("/api/v1/events/".concat(e,"/proof"))}async getLedgerStats(){return this.request("/api/v1/ledger/stats")}async listApprovals(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=arguments.length>2?arguments[2]:void 0,n=new URLSearchParams({page:e.toString(),per_page:t.toString()});return r&&n.set("status",r),this.request("/api/v1/approvals?".concat(n))}async approveAction(e,t){return this.request("/api/v1/approvals/".concat(e,"/approve"),{method:"POST",body:JSON.stringify({comment:t})})}async rejectAction(e,t){return this.request("/api/v1/approvals/".concat(e,"/reject"),{method:"POST",body:JSON.stringify({reason:t})})}async listAnchors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=arguments.length>2?arguments[2]:void 0,n=new URLSearchParams({page:e.toString(),per_page:t.toString()});return r&&n.set("status",r),this.request("/api/v1/anchors?".concat(n))}async getAnchor(e){return this.request("/api/v1/anchors/".concat(e))}async triggerAnchor(){return this.request("/api/v1/anchors/trigger",{method:"POST"})}async getDashboardStats(){return this.request("/api/v1/dashboard/stats")}constructor(){this.token=null}}let a=new s;t.Z=a},7440:function(e,t,r){"use strict";r.d(t,{BK:function(){return l},FP:function(){return o},TY:function(){return h},cn:function(){return a},o0:function(){return c},p6:function(){return i},xG:function(){return d},z2:function(){return u}});var n=r(4839),s=r(6164);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}function i(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function c(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function l(e){let t=new Date,r=new Date(e),n=Math.floor((t.getTime()-r.getTime())/1e3);return n<60?"just now":n<3600?"".concat(Math.floor(n/60),"m ago"):n<86400?"".concat(Math.floor(n/3600),"h ago"):n<604800?"".concat(Math.floor(n/86400),"d ago"):i(e)}function o(e){return e.length<=10?e:"".concat(e.slice(0,6),"...").concat(e.slice(-4))}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",r="string"==typeof e?parseFloat(e):e;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"===t||"USDC"===t||"USDT"===t?"USD":void 0,maximumFractionDigits:2}).format(r)}function u(e){switch(e){case"PENDING":return"text-yellow-600 bg-yellow-100";case"APPROVED":case"CONFIRMED":return"text-green-600 bg-green-100";case"REJECTED":case"FAILED":return"text-red-600 bg-red-100";case"EXPIRED":default:return"text-gray-600 bg-gray-100";case"ANCHORING":return"text-blue-600 bg-blue-100"}}function h(e){switch(e){case"HUMAN":return"\uD83D\uDC64";case"AGENT":return"\uD83E\uDD16";case"ORGANIZATION":return"\uD83C\uDFE2";default:return"â“"}}},2940:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},933:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7422:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},1432:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]])},500:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},1240:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(3480).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},3027:function(e,t,r){"use strict";r.d(t,{j:function(){return i}});var n=r(4839);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=n.W,i=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:c}=t,l=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],n=null==c?void 0:c[e];if(null===t)return null;let a=s(t)||s(n);return i[e][a]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return a(e,l,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...c,...o}[t]):({...c,...o})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[575,971,23,744],function(){return e(e.s=2235)}),_N_E=e.O()}]);